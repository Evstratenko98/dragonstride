# Scene Tasks

Ниже — набор задач под каждую сцену, чтобы сформировать базовый «корсет» проекта.

## boot / init
- Загрузить конфиги (локальные + удалённые при наличии), обработать ошибки и фоллбеки.
- Проверить версию клиента и совместимость с сервером.
- Выбрать язык/локаль (по системным настройкам или сохранённому выбору).
- Инициализировать сервисы: логирование, аналитика, сохранения, сеть.
- Подготовить таблицу ресурсов/адресацию и прогреть критические ассеты.
- Принять решение о первом переходе (main_menu или reconnect).

## main_menu
- Экран «Играть»: кнопки создать/найти матч, быстрый матч.
- Экран «Настройки»: звук, графика, управление, язык.
- Кнопка «Выход» (и подтверждение).
- Отображение статуса сети/версии (если нужно для мультиплеера).
- Переходы: в lobby, настройки, выход.

## lobby
- Создание лобби (публичное/приватное, код комнаты).
- Поиск/подключение к лобби.
- Список игроков: ник, пинг/статус, готовность.
- Механика «Готов/Не готов».
- Чат/системные уведомления (опционально).
- Переход в match_setup по готовности.

## match_setup
- Выбор режима/сценария матча.
- Настройка правил: таймеры, лимиты, модификаторы.
- Назначение ролей/фракций/цветов.
- Подготовка стола: колоды, стартовая расстановка, порядок ходов.
- Проверки «готово к старту» и синхронизация с сервером.
- Переход в game.

## game
- Загрузка стола и игровых сущностей.
- Система ходов/фаз (таймер, передача хода).
- Ввод игрока и подсветки/подсказки.
- Синхронизация состояния с сервером.
- Отработка победных условий.
- Переход в post_game / results.

## pause / in_game_menu
- Меню паузы: продолжить, настройки, выйти.
- Локальные настройки (звук, управление).
- Предупреждение о выходе из матча.
- Снятие паузы и возврат в game.

## post_game / results
- Экран результатов: победитель, очки, статистика.
- Награды/прогрессия (если есть).
- Кнопки: «сыграть снова», «в лобби», «в меню».
- Отправка итогов на сервер.

## connection_error / reconnect
- Экран ошибки подключения с причиной.
- Автоматическая попытка переподключения (таймер).
- Ручные кнопки: «повторить», «в меню».
- Восстановление состояния матча после reconnect.

## loading / transitions
- Универсальная загрузка сцены и прогресс.
- Подгрузка ассетов по адресам/пакетам.
- Отмена/таймаут с обработкой ошибок.
- Анимации перехода/фейд для UX.
